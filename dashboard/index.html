<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Ubah Profil</title>
        <!-- Font Awesome -->
        <link rel="stylesheet" href="../assets/css/fontawesome/css/all.min.css">
        <!-- Theme Style -->
        <link rel="stylesheet" href="../assets/css/adminlte/dist/css/adminlte.min.css">
        <!-- Google Font: Source Sans Pro -->
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
        <!-- Jquery -->
        <script src="../assets/js/jquery.min.js"></script>
    </head>
    <body class="hold-transition layout-top-nav bg-light">
        <div class="wrapper">
            <nav class="main-header navbar navbar-expand-md navbar-primary navbar-dark">
                <div class="container">
                    <a href="/" class="navbar-brand">
                        <span class="brand-text font-weight-light">Hostel</span>
                    </a>
                  
                    <button class="navbar-toggler order-1" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
            
                    <!-- Right navbar links -->
                    <ul class="order-1 order-md-3 navbar-nav navbar-no-expand ml-auto">
                        <li class="nav-item">
                            <a href="/" class="nav-link">Logout</a>
                        </li>
                    </ul>
                </div>
            </nav>
    
            <main class="content-wrapper">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="card text-white mt-5 shadow-sm p-3 mb-5 bg-white rounded">
                                <div class="card-header">
                                    <h2>Selamat Datang, <strong class="text-blue">User!</strong></h1>
                                    <small>user@gmail.com</small>
                                </div>
                                <div class="card-body bg-primary">
                                    <div class="row">
                                        <div class="col-lg-12 ">
                                            <div class="row text-center justify-content-center">
                                                <div class="col-lg-2">
                                                    <i class="fas fa-user fa-lg"></i>
                                                </div>
                                                <div class="col-lg-10">
                                                    <h5 class="card-title"><strong>Ubah Profil</strong></h5>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body border-bottom border-light">
                                    <div class="row">
                                        <div class="col-lg-12 ">
                                            <div class="row text-center justify-content-center">
                                                <div class="col-lg-2">
                                                    <i class="card-link fas fa-list fa-lg"></i>
                                                </div>
                                                <div class="col-lg-10">
                                                    <h5 class="card-link card-title">Tagihanku</h5>
                                                </div>
                                            </div>
                                            <a href="tagihan.html" class="stretched-link"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body border-bottom border-light">
                                    <div class="row">
                                        <div class="col-lg-12 ">
                                            <div class="row text-center justify-content-center">
                                                <div class="col-lg-2">
                                                    <i class="fas fa-book fa-lg"></i>
                                                </div>
                                                <div class="col-lg-10">
                                                    <h5 class="card-title">Booking</h5>
                                                </div>
                                            </div>
                                            <a href="booking.html" class="stretched-link"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body border-bottom border-light">
                                    <div class="row">
                                        <div class="col-lg-12 ">
                                            <div class="row text-center justify-content-center">
                                                <div class="col-lg-2">
                                                    <i class="fas fa-dollar-sign fa-lg"></i>
                                                </div>
                                                <div class="col-lg-10">
                                                    <h5 class="card-title">Riwayat Transaksi</h5>
                                                </div>
                                            </div>
                                            <a href="riwayat.html" class="stretched-link"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-lg-12 ">
                                            <div class="row text-center justify-content-center">
                                                <div class="col-lg-2">
                                                    <i class="fas fa-sign-out-alt fa-lg"></i>
                                                </div>
                                                <div class="col-lg-10">
                                                    <h5 class="card-title">Keluar</h5>
                                                </div>
                                            </div>
                                            <a href="/" class="stretched-link"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="card text-white mt-5 shadow-sm p-3 mb-5 bg-white rounded border-bottom border-primary">
                                <div class="card-header text-center">
                                    <h2><strong class="text-blue ">Ubah Profil</strong></h1>
                                </div>
                                <form>
                                    <div class="row">
                                        <div class="col-lg-6 mt-3">
                                            <div class="form-group text-secondary">
                                                <label for="formNama">Nama Depan</label>
                                                <input type="text" class="form-control" id="formNama" placeholder="Nama Depan">
                                                <small id="nameHelp" class="form-text text-muted">Isikan nama sesuai dengan yang ada di KTP/SIM/Paspor.</small>
                                            </div>
                                            <div class="form-group text-secondary">
                                                <label for="formEmail">Email</label>
                                                <input type="email" class="form-control" id="formEmail" placeholder="Email">
                                                <small id="emailHelp" class="form-text text-muted">Pastikan email yang valid.</small>
                                            </div>
                                            <div class="form-group text-secondary">
                                                <label for="formPassword">Password</label>
                                                <input type="password" class="form-control" id="formPassword" placeholder="Password">
                                                <small id="passwordHelp" class="form-text text-muted">Password minimal 8 karakter.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 mt-3">
                                            <div class="form-group text-secondary">
                                                <label for="formNamaBelakang">Nama Belakang</label>
                                                <input type="text" class="form-control" id="formNamaBelakang" placeholder="Nama Belakang">
                                                <small id="namaBelakangHelp" class="form-text text-muted">Isikan nama sesuai dengan yang ada di KTP/SIM/Paspor.</small>
                                            </div>
                                            <div class="form-group text-secondary">
                                                <label for="formNo">Nomor Handphone</label>
                                                <input type="text" class="form-control" id="formNo" placeholder="No. Handphone">
                                                <small id="noHelp" class="form-text text-muted">Awali dengan +62 / 08xxx.</small>
                                            </div>
                                            <div class="form-group text-secondary">
                                                <label for="formConfirmPassword">Konfirmasi Password</label>
                                                <input type="password" class="form-control" id="formConfirmPassword" placeholder="Konfirmasi Password">
                                                <small id="ConfirmPasswordHelp" class="form-text text-muted">Password minimal 8 karakter.</small>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="card-footer bg-white justify-content-center text-center">
                                    <a id="save" href="#" class="btn btn-primary">Simpan</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </body>
    <script>
        $(document).ready(function() {

            let status1 = [];

            isEmail = (input) => {
                let regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return regex.test(input);
            }

            isNoValid = (input) => {
                let regex = /^((\+[0-9]{11,13}))?$/;
                return regex.test(input);
            }

            isPasswordValid = (input) => {
                let regex = /^.{8,}$/;
                return regex.test(input);
            }

            isNameValid = (input) => {
                let regex = /^[a-zA-Z]+$/;
                return regex.test(input);
            }

            $('#formEmail').on('keyup', () => {
                let result = isEmail($('#formEmail').val());
                
                if (result == false){
                    $('#formEmail').addClass('border border-danger');
                    document.getElementById('emailHelp').innerHTML = 'Email Tidak Valid';
                } else {
                    $('#formEmail').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('emailHelp').innerHTML = 'Email Valid.';
                    data.email = document.getElementById('formEmail').value;
                }
            });


            $('#formNama').on('keyup', () => { 
                let result = isNameValid($('#formNama').val());

                if(result == false){
                    $('#formNama').addClass('border border-danger');
                    document.getElementById('nameHelp').innerHTML = 'Hanya huruf yang di perbolehkan.';
                } else {
                    $('#formNama').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('nameHelp').innerHTML = 'Nama Valid.';
                    data.namaDepan = document.getElementById('formNama').value;
                }
            });

            $('#formNamaBelakang').on('keyup', () => { 
                let result = isNameValid($('#formNamaBelakang').val());

                if(result == false){
                    $('#formNamaBelakang').addClass('border border-danger');
                    document.getElementById('namaBelakangHelp').innerHTML = 'Hanya huruf yang di perbolehkan.';
                } else {
                    $('#formNamaBelakang').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('namaBelakangHelp').innerHTML = 'Nama Valid.';
                    data.namaBelakang = document.getElementById('formNamaBelakang').value;
                }
            });

            $('#formPassword').on('keyup', () => { 
                let result = isPasswordValid($('#formPassword').val());

                if(result == false){
                    $('#formPassword').addClass('border border-danger');
                    document.getElementById('passwordHelp').innerHTML = 'Minimal 8 karakter.';
                } else{
                    $('#formPassword').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('passwordHelp').innerHTML = 'Password Valid.';
                } 
            });

            $('#formConfirmPassword').on('keyup', () => { 
                let getConfirmPassword = $('#formConfirmPassword').val();
                let getMainPassword = $('#formPassword').val();

                if(getConfirmPassword != getMainPassword){
                    $('#formConfirmPassword').addClass('border border-danger');
                    document.getElementById('ConfirmPasswordHelp').innerHTML = 'Password Tidak Sama.';
                } else{
                    $('#formConfirmPassword').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('ConfirmPasswordHelp').innerHTML = 'Password Sesuai.';
                    data.password = document.getElementById('formConfirmPassword').value;
                } 
            });

            $('#formNo').on('keyup', () => { 
                let result = isNoValid($('#formNo').val());

                if(result == false){
                    $('#formNo').addClass('border border-danger');
                    document.getElementById('noHelp').innerHTML = 'Nomor Tidak Valid.';
                } else {
                    $('#formNo').addClass('border border-success').removeClass( "border border-danger" );
                    document.getElementById('noHelp').innerHTML = 'Nomor Sesuai.';
                    data.noHandphone = document.getElementById('formNo').value;
                }
            });

            $('#save').click( () => {
                console.log(data);
            });
        });
        
    </script>
</html>